{"version":3,"file":"app.90d80725c52c5a323399.js","mappings":"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","sources":["webpack://@miscreants/copywork/./source/store/event/theme_mode.ts","webpack://@miscreants/copywork/./source/store/index.ts","webpack://@miscreants/copywork/./source/store/event/index.ts","webpack://@miscreants/copywork/./source/store/key/theme_mode.ts","webpack://@miscreants/copywork/./source/effect/use_mode_theme.ts","webpack://@miscreants/copywork/./source/Component/MenuIcon.tsx","webpack://@miscreants/copywork/./source/Component/EditorScreen/Header.tsx","webpack://@miscreants/copywork/./source/Component/EditorScreen/index.tsx","webpack://@miscreants/copywork/./source/Component/ErrorBoundary.tsx","webpack://@miscreants/copywork/./source/lib/or.ts","webpack://@miscreants/copywork/./source/Component/App.tsx"],"sourcesContent":["import { ThemeModeSet } from 'store/key/theme_mode';\r\n// -----------------------------------------------------------------------------\r\nexport default function wireUpThemeModeEvents(store) {\r\n    store.on(ThemeModeSet, onThemeModeSet);\r\n}\r\n// -----------------------------------------------------------------------------\r\nfunction onThemeModeSet(store, { theme_mode: themeMode }) {\r\n    return { theme_mode: themeMode };\r\n}\r\n","import { createStoreon } from 'storeon';\r\nimport { persistState } from '@storeon/localstorage';\r\nimport wireUpEvents from './event';\r\n// -----------------------------------------------------------------------------\r\nlet storeonDevtools = () => { };\r\nif (ENVIRONMENT === 'development') {\r\n    storeonDevtools = require('storeon/devtools').storeonDevtools;\r\n}\r\n// -----------------------------------------------------------------------------\r\nconst Store = createStoreon([\r\n    initialStore,\r\n    wireUpEvents,\r\n    persistState(['theme_mode']),\r\n    storeonDevtools,\r\n]);\r\nexport default Store;\r\n// -----------------------------------------------------------------------------\r\nfunction initialStore(store) {\r\n    store.on('@init', initialStoreState);\r\n}\r\n// -----------------------------------------------------------------------------\r\nfunction initialStoreState() {\r\n    return {};\r\n}\r\n","import wireUpThemeModeEvents from 'store/event/theme_mode';\r\n// -----------------------------------------------------------------------------\r\nexport default function wireUpEvents(store) {\r\n    wireUpThemeModeEvents(store);\r\n}\r\n// -----------------------------------------------------------------------------\r\n","export const ThemeModeSet = 'theme_mode.set';\r\n","import { ReturnIf } from 'babel-plugin-transform-functional-return';\r\nimport Store from 'store';\r\n// -----------------------------------------------------------------------------\r\nexport default function useThemeMode() {\r\n    const { theme_mode: themeMode } = Store.get();\r\n    ReturnIf(themeMode, getModeTheme(themeMode));\r\n    //\r\n    const html = document.querySelector('html');\r\n    const preferredThemeMode = html.getAttribute('data-preferred-theme') || 'light';\r\n    //\r\n    return getModeTheme(preferredThemeMode);\r\n}\r\n// -----------------------------------------------------------------------------\r\nfunction getModeTheme(themeMode) {\r\n    return themeMode === 'dark' ? darkModeTheme : lightModeTheme;\r\n}\r\n// -----------------------------------------------------------------------------\r\nconst lightModeTheme = {\r\n    bodyBackground: '#F5F5F5',\r\n    bodyForeground: '#4E565C',\r\n    color1: '#203449',\r\n    color2: '#708594',\r\n    color3: '#070C10',\r\n    color4: '#00A4FA',\r\n};\r\n// -----------------------------------------------------------------------------\r\nconst darkModeTheme = {\r\n    bodyBackground: '#162736',\r\n    bodyForeground: '#F5F5F5',\r\n    headerBackground: '#203449',\r\n    headerForeground: '#F5F5F5',\r\n    headerAccountBackground: '#708594',\r\n    color0: '#162736',\r\n    color1: '#203449',\r\n    color2: '#708594',\r\n    color3: '#070C10',\r\n    color4: '#00A4FA',\r\n};\r\n","import { jsx as _jsx } from \"react/jsx-runtime\";\r\nimport { memo } from 'react';\r\nimport styled from 'styled-components';\r\n// -----------------------------------------------------------------------------\r\nconst MenuIcon = memo(function MenuIcon() {\r\n    return (_jsx(Icon, { viewBox: \"0 0 32 32\", children: _jsx(\"path\", { d: \"M 16 6 C 14.894531 6 14 6.894531 14 8 C 14 9.105469 14.894531 10 16 10 C 17.105469 10 18 9.105469 18 8 C 18 6.894531 17.105469 6 16 6 Z M 16 14 C 14.894531 14 14 14.894531 14 16 C 14 17.105469 14.894531 18 16 18 C 17.105469 18 18 17.105469 18 16 C 18 14.894531 17.105469 14 16 14 Z M 16 22 C 14.894531 22 14 22.894531 14 24 C 14 25.105469 14.894531 26 16 26 C 17.105469 26 18 25.105469 18 24 C 18 22.894531 17.105469 22 16 22 Z\" }, void 0) }, void 0));\r\n});\r\nexport default MenuIcon;\r\n// -----------------------------------------------------------------------------\r\nconst Icon = styled.svg `\r\n\tcursor: pointer;\r\n\theight: 32px;\r\n\twidth: 32px;\r\n\r\n\t& path {\r\n\t\tfill: currentColor;\r\n\t}\r\n\r\n\t&:hover {\r\n\t\tbackground: currentColor;\r\n\t\tborder-radius: 32px;\r\n\r\n\t\t& path {\r\n\t\t\tfill: #eee;\r\n\t\t}\r\n\t}\r\n`;\r\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nimport { memo } from 'react';\r\nimport styled from 'styled-components';\r\nimport MenuIcon from 'Component/MenuIcon';\r\n// -----------------------------------------------------------------------------\r\nconst EditorScreenHeader = memo(function EditorScreenHeader({ onStartOver, }) {\r\n    return (_jsxs(Container, { children: [_jsx(Title, { children: \"copywork\" }, void 0), _jsx(Spacer, {}, void 0), _jsxs(MenuContainer, { children: [_jsx(MenuIcon, {}, void 0), _jsxs(Menu, { children: [_jsx(MenuItem, { onClick: onStartOver, style: { cursor: 'pointer' }, children: \"Clear screen\" }, void 0), _jsxs(MenuItem, { children: [\"by \", _jsx(Link, { href: \"https://miscreants.co\", children: \"miscreants\" }, void 0)] }, void 0)] }, void 0)] }, void 0)] }, void 0));\r\n});\r\nexport default EditorScreenHeader;\r\n// -----------------------------------------------------------------------------\r\nconst Container = styled.div `\r\n\talign-items: center;\r\n\tcolor: #666;\r\n\tdisplay: flex;\r\n\tpadding: 1vw;\r\n\tposition: relative;\r\n\tuser-select: none;\r\n`;\r\nconst Title = styled.div `\r\n\tfont-size: 1.25rem;\r\n`;\r\nconst Spacer = styled.div `\r\n\tflex-grow: 1;\r\n`;\r\nconst MenuContainer = styled.div `\r\n\tposition: relative;\r\n\twidth: 32px;\r\n`;\r\nconst Menu = styled.div `\r\n\tbackground: #eee;\r\n\tborder-radius: 4px;\r\n\tdisplay: none;\r\n\tfilter: drop-shadow(0 1px 1px #000);\r\n\tflex-direction: column;\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 34px;\r\n\tz-index: 100;\r\n\r\n\t${MenuContainer}:hover &, ${MenuContainer}:focus & {\r\n\t\tdisplay: flex;\r\n\t}\r\n`;\r\nconst MenuItem = styled.div `\r\n\tpadding: 8px;\r\n\twhite-space: pre;\r\n`;\r\nconst Link = styled.a `\r\n\tcolor: #66f;\r\n`;\r\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nimport { memo, useRef, useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport Header from 'Component/EditorScreen/Header';\r\n// -----------------------------------------------------------------------------\r\nconst EditorScreen = memo(function EditorScreen() {\r\n    const writerRef = useRef();\r\n    const errorRef = useRef();\r\n    //\r\n    const [contentToCopy, setContentToCopy] = useState(undefined);\r\n    //\r\n    useEffect(onManagingEvents(contentToCopy, setContentToCopy, writerRef, errorRef), [\r\n        contentToCopy,\r\n    ]);\r\n    //\r\n    const onStartOver = onStartOverFactory(contentToCopy, setContentToCopy);\r\n    //\r\n    return (_jsxs(Container, { children: [_jsx(Header, { onStartOver: onStartOver }, void 0), contentToCopy ? (_jsxs(GhostWriter, { children: [_jsx(Writer, { contentEditable: true, spellCheck: \"false\", ref: writerRef, \"data-editor\": true }, void 0), _jsx(ErrorContent, { ref: errorRef }, void 0), _jsx(GhostContent, { children: contentToCopy }, void 0)] }, void 0)) : (_jsx(PasteContainer, { children: \"Paste something...\" }, void 0))] }, void 0));\r\n});\r\nexport default EditorScreen;\r\n// -----------------------------------------------------------------------------\r\nfunction onManagingEvents(contentToCopy, setContentToCopy, writerRef, errorRef) {\r\n    return () => {\r\n        const onClick = contentToCopy\r\n            ? (e) => {\r\n                if (!e.target.dataset.editor) {\r\n                    // set cursor to end of writer component\r\n                    // https://stackoverflow.com/a/3866442/7400022\r\n                    const range = document.createRange();\r\n                    range.selectNodeContents(writerRef.current);\r\n                    range.collapse(false);\r\n                    const selection = window.getSelection();\r\n                    selection.removeAllRanges();\r\n                    selection.addRange(range);\r\n                }\r\n            }\r\n            : undefined;\r\n        const onPaste = contentToCopy\r\n            ? disableNormalEventBehavor\r\n            : (e) => {\r\n                disableNormalEventBehavor(e);\r\n                //\r\n                const clipboardData = e.clipboardData || window.clipboardData;\r\n                const pastedData = clipboardData\r\n                    .getData('Text')\r\n                    .replace(/\\r/g, '')\r\n                    .replace(/\\n{1,}/g, '\\n\\n')\r\n                    .trim();\r\n                if (pastedData.length < 1) {\r\n                    return;\r\n                }\r\n                //\r\n                setContentToCopy(pastedData);\r\n                setTimeout(() => writerRef.current.focus(), 100);\r\n            };\r\n        const onKeyUp = contentToCopy\r\n            ? checkUserProgress(contentToCopy, writerRef, errorRef)\r\n            : undefined;\r\n        //\r\n        window.addEventListener('paste', onPaste);\r\n        window.addEventListener('click', onClick);\r\n        window.addEventListener('keyup', onKeyUp);\r\n        //\r\n        return () => {\r\n            window.removeEventListener('paste', onPaste);\r\n            window.removeEventListener('click', onClick);\r\n            window.removeEventListener('keyup', onKeyUp);\r\n        };\r\n    };\r\n}\r\nfunction onStartOverFactory(contentToCopy, setContentToCopy) {\r\n    return contentToCopy ? () => setContentToCopy(undefined) : undefined;\r\n}\r\nfunction disableNormalEventBehavor(e) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n}\r\nfunction checkUserProgress(originalText, writerRef, errorRef) {\r\n    return () => {\r\n        const text = writerRef.current.innerText;\r\n        //\r\n        let error = undefined;\r\n        const errors = [];\r\n        //\r\n        for (let index = 0; index < text.length; index++) {\r\n            const letter = text[index];\r\n            const originalLetter = originalText[index];\r\n            if (letter !== originalLetter) {\r\n                if (error === undefined) {\r\n                    error = [index];\r\n                    errors.push(error);\r\n                }\r\n            }\r\n            else {\r\n                if (error !== undefined) {\r\n                    error.push(index);\r\n                    error = undefined;\r\n                }\r\n            }\r\n        }\r\n        //\r\n        if (error) {\r\n            error.push(text.length);\r\n        }\r\n        //\r\n        const letters = Array.from(text);\r\n        errors.forEach(([start, end]) => {\r\n            letters[start] = `<span spellcheck=\"false\">${letters[start]}`;\r\n            letters[end - 1] = `${letters[end - 1] || ''}</span>`;\r\n        });\r\n        //\r\n        errorRef.current.innerHTML = letters.join('');\r\n    };\r\n}\r\n// -----------------------------------------------------------------------------\r\nconst Container = styled.div `\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tmargin: auto;\r\n\tmax-width: 8.5in;\r\n\tposition: relative;\r\n\twidth: 100%;\r\n`;\r\nconst PasteContainer = styled.div `\r\n\tcolor: #666;\r\n\tflex-grow: 1;\r\n\tfont-size: 1.5rem;\r\n\tpadding: 5vw 1vw;\r\n\tuser-select: none;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n`;\r\nconst GhostWriter = styled.div `\r\n\theight: 100%;\r\n\tmin-height: 100%;\r\n\tposition: relative;\r\n`;\r\nconst GhostContent = styled.div `\r\n\tfont-size: 1.5rem;\r\n\tleft: 0;\r\n\topacity: 0.33;\r\n\tpadding: 1vw 1vw 25vw 1vw;\r\n\tpointer-events: none;\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 0;\r\n\tuser-select: none;\r\n\twhite-space: pre-wrap;\r\n\tword-break: break-word;\r\n\tz-index: 1;\r\n`;\r\nconst Writer = styled.div `\r\n\tfont-size: 1.5rem;\r\n\toutline: 0;\r\n\tpadding: 1vw;\r\n\twhite-space: pre-wrap;\r\n\tword-break: break-word;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tposition: absolute;\r\n\tz-index: 3;\r\n`;\r\nconst ErrorContent = styled.div `\r\n\tcolor: transparent;\r\n\tfont-size: 1.5rem;\r\n\tleft: 0;\r\n\tpadding: 1vw;\r\n\tpointer-events: none;\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 0;\r\n\tuser-select: none;\r\n\twhite-space: pre-wrap;\r\n\tword-break: break-word;\r\n\tz-index: 2;\r\n\r\n\t& span {\r\n\t\tbackground: pink;\r\n\t}\r\n`;\r\n","import { jsx as _jsx } from \"react/jsx-runtime\";\r\nimport { Component } from 'react';\r\nimport { thisIf } from 'lib/or';\r\n// -----------------------------------------------------------------------------\r\nexport default class ErrorBoundary extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { hasError: false };\r\n    }\r\n    static getDerivedStateFromError(error) {\r\n        return { hasError: true };\r\n    }\r\n    componentDidCatch(error, info) {\r\n        this.setState({ hasError: true });\r\n    }\r\n    render() {\r\n        const { children } = this.props;\r\n        const { hasError } = this.state;\r\n        //\r\n        return thisIf(hasError, _jsx(DefaultErrorMessage, {}, void 0), children);\r\n    }\r\n}\r\n// -----------------------------------------------------------------------------\r\nfunction DefaultErrorMessage() {\r\n    return _jsx(\"div\", { children: \"There was an error loading part of the website\" }, void 0);\r\n}\r\n","const EmptyString = '';\r\n// -----------------------------------------------------------------------------\r\nexport function or(value, defaultValue) {\r\n    return value || defaultValue;\r\n}\r\nexport function orArr(value) {\r\n    return or(value, []);\r\n}\r\nexport function orObj(value) {\r\n    return or(value, {});\r\n}\r\nexport function orEmptyString(value) {\r\n    return String(or(value, EmptyString));\r\n}\r\nexport function or0(value) {\r\n    return or(value, 0);\r\n}\r\nexport function orNotDefined(value, defaultValue) {\r\n    return value !== undefined && value !== null ? value : defaultValue;\r\n}\r\n// -----------------------------------------------------------------------------\r\nexport function thisIf(truthy, value, otherwise) {\r\n    return truthy ? value : otherwise;\r\n}\r\nexport function ifNot(truthy, value) {\r\n    return truthy ? undefined : value;\r\n}\r\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nimport { render } from 'react-dom';\r\nimport { createGlobalStyle, ThemeProvider } from 'styled-components';\r\nimport { StoreContext } from 'storeon/react';\r\nimport useThemeMode from 'effect/use_mode_theme';\r\nimport Store from 'store';\r\nimport EditorScreen from 'Component/EditorScreen';\r\nimport ErrorBoundary from 'Component/ErrorBoundary';\r\n// -----------------------------------------------------------------------------\r\nconst GlobalStyle = createGlobalStyle `\r\n\t* {\r\n\t\tbox-sizing: border-box;\r\n\t\tfont-family: 'Copse', serif;\r\n\t}\r\n\r\n  html, body {\r\n\t  background: #EEE;\r\n\t  height: 100%;\r\n\t  margin: 0;\r\n  }`;\r\n// -----------------------------------------------------------------------------\r\nexport default function renderApp() {\r\n    render(_jsx(App, {}, void 0), document.body);\r\n    // remove loader components\r\n    const components = document.querySelectorAll('[data-preloader=\"true\"]');\r\n    [].forEach.call(components, (component) => component.parentNode.removeChild(component));\r\n}\r\n// -----------------------------------------------------------------------------\r\nfunction App() {\r\n    const theme = useThemeMode();\r\n    //\r\n    return (_jsxs(ThemeProvider, { theme: theme, children: [_jsx(GlobalStyle, {}, void 0), _jsx(StoreContext.Provider, { value: Store, children: _jsx(ErrorBoundary, { children: _jsx(EditorScreen, {}, void 0) }, void 0) }, void 0)] }, void 0));\r\n}\r\n"],"names":["onThemeModeSet","store","theme_mode","themeMode","storeonDevtools","require","Store","createStoreon","on","initialStoreState","wireUpThemeModeEvents","persistState","getModeTheme","darkModeTheme","lightModeTheme","bodyBackground","bodyForeground","color1","color2","color3","color4","headerBackground","headerForeground","headerAccountBackground","color0","memo","_jsx","Icon","viewBox","children","d","styled","onStartOver","_jsxs","Container","Title","Spacer","MenuContainer","MenuIcon","Menu","MenuItem","onClick","style","cursor","Link","href","writerRef","useRef","errorRef","contentToCopy","setContentToCopy","useState","undefined","useEffect","e","target","dataset","editor","range","document","createRange","selectNodeContents","current","collapse","selection","window","getSelection","removeAllRanges","addRange","onPaste","disableNormalEventBehavor","pastedData","clipboardData","getData","replace","trim","length","setTimeout","focus","onKeyUp","originalText","text","innerText","error","errors","index","push","letters","Array","from","forEach","start","end","innerHTML","join","checkUserProgress","addEventListener","removeEventListener","onManagingEvents","onStartOverFactory","Header","GhostWriter","Writer","contentEditable","spellCheck","ref","ErrorContent","GhostContent","PasteContainer","stopPropagation","preventDefault","ErrorBoundary","Component","constructor","props","super","this","state","hasError","componentDidCatch","info","setState","render","truthy","value","DefaultErrorMessage","otherwise","GlobalStyle","createGlobalStyle","renderApp","App","body","components","querySelectorAll","call","component","parentNode","removeChild","theme","querySelector","getAttribute","useThemeMode","ThemeProvider","StoreContext","EditorScreen"],"sourceRoot":""}